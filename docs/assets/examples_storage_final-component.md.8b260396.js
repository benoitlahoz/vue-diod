import{S as O,r as d,e as C,w as I,o as _,c as v,a as l,t as y,u as K,n as k,f as h,q as L,V as m,F as U,s as A,g as J,p as z,j as V,_ as Y,v as q,x as G,l as H,k as W,b as X}from"./app.9475fbc2.js";class B{}class F extends B{}var Q=globalThis&&globalThis.__decorate||function(e,a,t,i){var n,o=arguments.length,s=o<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,a,t,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(a,t,s):n(a,t))||s);return o>3&&s&&Object.defineProperty(a,t,s),s},Z=globalThis&&globalThis.__metadata||function(e,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,a)};let S=class{set(e,a){let t=`${this._prefix}:${String(e)}`;localStorage.setItem(t,String(a));let i=!isNaN(+a)&&!isNaN(parseFloat(a));this._content.value[String(e)]=i?+a:a,this._content.value=Object.keys(this._content.value).sort((n,o)=>n.toLowerCase().localeCompare(o.toLowerCase())).reduce((n,o)=>(n[o]=this._content.value[o],n),{})}get(e){if(this._content.value[String(e)])return{key:e,value:this._content.value[String(e)]}}remove(e){let a=`${this._prefix}:${String(e)}`;localStorage.removeItem(a),this._content.value[String(e)]&&delete this._content.value[String(e)]}save(e){if(e){let a={prefix:this._prefix,content:{...this._content.value}};e.save(a)}}get prefix(){return this._prefix}get content(){return this._content}constructor(e){this._prefix="vue-diod",this._content=d({}),this._prefix=e,this._content.value=Object.keys(localStorage).filter(a=>a.startsWith(this._prefix)).reduce((a,t)=>{let i=localStorage[t],n=!isNaN(+i)&&!isNaN(parseFloat(i)),o=n?+localStorage[t]:localStorage[t];return Object.assign(a,{[t.replace(`${this._prefix}:`,"")]:o})},{})}};S=Q([O(),Z("design:paramtypes",[String])],S);class R{}var ee=globalThis&&globalThis.__decorate||function(e,a,t,i){var n,o=arguments.length,s=o<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,t):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,a,t,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(a,t,s):n(a,t))||s);return o>3&&s&&Object.defineProperty(a,t,s),s};let w=class{save(e){let a=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e,null,2))}`,t=this._generateFilename();this._downloadContent(a,t)}_downloadContent(e,a){let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",a),document.body.appendChild(t),t.click(),t.remove()}_generateFilename(){let e=new Date;return`${e.getFullYear()}${this._formatDateItem(e.getMonth()+1)}${this._formatDateItem(e.getDate())}-${this._formatDateItem(e.getHours())}.${this._formatDateItem(e.getMinutes())}.${this._formatDateItem(e.getSeconds())}.${e.getMilliseconds()}.json`}_formatDateItem(e){return("0"+e).slice(-2)}};w=ee([O()],w);let $=e=>(z("data-v-c105954e"),e=e(),V(),e),te={class:"container"},ae=$(()=>l("span",{style:{"font-weight":"bold"}},"Prefix: ",-1)),le={class:"form"},oe=["onKeyup"],ne=["onKeyup"],se={style:{"align-self":"center",width:"100%","border-top":"1px solid var(--vp-c-divider)","margin-top":"24px"}},ie=$(()=>l("thead",null,[l("th",null,"Key"),l("th",null,"Value")],-1)),re={style:{"font-weight":"600"}},ue={style:{display:"flex","align-items":"center",width:"100%","flex-wrap":"wrap"}},ce={style:{"margin-left":"auto"}},de={style:{display:"flex","align-items":"center","flex-grow":"1",width:"100%","flex-wrap":"wrap"}},_e={style:{"margin-left":"auto"}},pe={key:1,style:{width:"100%"}},ve=$(()=>l("td",{colspan:"2",style:{"text-align":"center"}}," Nothing stored yet ",-1)),he=[ve],ge=C({__name:"storage-service.component",setup(e){let{injectServiceInstance:a}=J(),t=a(F),i=a(R),n=d(null),o=d(""),s=()=>{if(n.value){let u=n.value;o.value=u.value.replace(/[^a-z0-9]/gi,"").trim()}},r=d(null),c=d(""),D=()=>{if(r.value){let u=r.value;c.value=u.value.replace(/[^a-z 0-9]/gi,"").replace(/ +(?= )/g,""),u.value=c.value}},g=d(!0);I([o,c],()=>{g.value=o.value.length===0||c.value.length===0});let b=d([]);I(()=>t,()=>{t&&(b.value=Object.entries(t.content.value))},{immediate:!0,deep:!0});let x=()=>{g.value||(o.value=o.value.trim(),c.value=c.value.trim(),t==null||t.set(o.value,c.value),T())},N=u=>{let p=t.get(u);alert(`Local storage service returned

${JSON.stringify(p,null,2)}`)},M=u=>{t==null||t.remove(u)},P=()=>{t==null||t.save(i)},T=()=>{if(n.value&&r.value){let u=n.value,p=r.value;o.value="",c.value="",u.value=o.value,p.value=c.value,u.blur(),p.blur()}};return(u,p)=>{var j;return _(),v("div",te,[l("div",null,[ae,l("span",null,y((j=K(t))==null?void 0:j.prefix),1)]),l("div",le,[l("div",null,[l("input",{ref_key:"keyInputRef",ref:n,type:"text",placeholder:"Enter the key",class:"item",onInput:s,onKeyup:k(x,["enter"])},null,40,oe),l("input",{ref_key:"valueInputRef",ref:r,type:"text",placeholder:"Enter the value",class:"item",onInput:D,onKeyup:k(x,["enter"])},null,40,ne),h(m,{text:"Store",disabled:o.value.length==0||c.value.length==0,class:"item",style:L({backgroundColor:g.value?"grey":"",borderColor:g.value?"darkgrey":""}),onMouseup:x},null,8,["disabled","style"])])]),l("div",se,[l("table",null,[ie,l("tbody",null,[b.value.length>0?(_(!0),v(U,{key:0},A(b.value,f=>(_(),v("tr",null,[l("td",re,[l("div",ue,[l("div",null,y(f[0]),1),l("div",ce,[h(m,{text:"Get",theme:"alt",onMouseup:E=>N(f[0])},null,8,["onMouseup"])])])]),l("td",null,[l("div",de,[l("div",null,y(f[1]),1),l("div",_e,[h(m,{text:"Remove",theme:"sponsor",onMouseup:E=>M(f[0])},null,8,["onMouseup"])])])])]))),256)):(_(),v("tr",pe,he))])])]),l("div",null,[h(m,{text:"Save to File",onMouseup:P})])])}}});let fe=Y(ge,[["__scopeId","data-v-c105954e"]]),me=C({__name:"storage-provider.component",setup(e){let a=H(),t=new W,i=[{register:F,useFactory:()=>new S("vue-diod-example"),scope:q.Singleton},{register:R,use:w}];return t.bootstrap(a,{injectables:i}),(n,o)=>(_(),G(fe))}}),ye={id:"frontmatter-title",tabindex:"-1"},be=l("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),xe={style:{width:"100%",display:"flex","justify-content":"center",margin:"4rem 0"}},Se=l("div",{class:"tip custom-block"},[l("p",{class:"custom-block-title"},"TIP"),l("p",null,"Open your devtools and see how data is stored with the prefix in localStorage.")],-1),je=JSON.parse('{"title":"Final Component","description":"","frontmatter":{"title":"Final Component"},"headers":[],"relativePath":"examples/storage/final-component.md"}'),we={name:"examples/storage/final-component.md"},Ie=Object.assign(we,{setup:e=>(a,t)=>(_(),v("div",null,[l("h1",ye,[X(y(a.$frontmatter.title)+" ",1),be]),l("div",xe,[h(me)]),Se]))});export{je as __pageData,Ie as default};
